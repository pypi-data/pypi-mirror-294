import{d as V,h as c,o as a,b as p,e as t,i as s,w as u,f as o,t as _,c as $,u as I,j as M,k as v,r as y,a as T,l as P,m as F,n as z,p as O,q as W,s as K,_ as H,v as q,F as N,x as J,y as X,z as U,A as G,C as Q,g as Y,B as Z}from"./index-Ua38_nuB.js";/* empty css                                                                          *//* empty css                                                                       */import{_ as ee}from"./IndexView.vue_vue_type_script_setup_true_lang-qh84dxx2.js";const te={key:0,style:{"max-width":"560px"}},ne=t("br",null,null,-1),le=t("br",null,null,-1),oe=t("br",null,null,-1),se=t("br",null,null,-1),ae=t("br",null,null,-1),re=t("br",null,null,-1),ue=t("br",null,null,-1),ie=t("br",null,null,-1),de=t("br",null,null,-1),ce=t("br",null,null,-1),_e=t("br",null,null,-1),fe=t("br",null,null,-1),xe=t("br",null,null,-1),pe=t("br",null,null,-1),me=t("span",null,[o("朋友圈背景："),t("br")],-1),he={key:1,style:{"max-width":"560px"}},ve=t("br",null,null,-1),we=t("br",null,null,-1),ye=t("br",null,null,-1),be={key:0},ge=t("br",null,null,-1),Ee={key:1},ke=t("br",null,null,-1),$e={key:2},Be=t("br",null,null,-1),Ve={key:3},Ce=t("br",null,null,-1),qe={key:4},Se=t("br",null,null,-1),Ie={key:5},Le=t("br",null,null,-1),Ue={key:6},De=t("br",null,null,-1),je={key:7},Re=t("br",null,null,-1),Me={key:8},Te=t("br",null,null,-1),Ne={key:9},ze=t("br",null,null,-1),Fe={key:10},Oe=t("br",null,null,-1),He={key:11},Ae=t("br",null,null,-1),A=V({__name:"UserInfoShow",props:{userinfo:{type:Object,default:()=>({})},show_all:{type:Boolean,default:!0,required:!1}},setup(e){return(d,n)=>{const i=c("el-divider"),l=c("el-image");return e.show_all?(a(),p("div",te,[t("div",null,[s(i,{"content-position":"center"},{default:u(()=>[o("基本信息")]),_:1}),t("span",null,[o("wxid："+_(e.userinfo.wxid),1),ne]),t("span",null,[o("账号："+_(e.userinfo.account),1),le]),t("span",null,[o("昵称："+_(e.userinfo.nickname),1),oe]),t("span",null,[o("备注："+_(e.userinfo.remark),1),se])]),t("div",null,[s(i,{"content-position":"center"},{default:u(()=>[o("个人信息")]),_:1}),t("span",null,[o("性别："+_(e.userinfo.ExtraBuf["性别[1男2女]"]==1?"男":e.userinfo.ExtraBuf["性别[1男2女]"]==2?"女":""),1),ae]),t("span",null,[o("手机："+_(e.userinfo.ExtraBuf.手机号),1),re]),t("span",null,[o("标签："+_(e.userinfo.LabelIDList.join("/")),1),ue]),t("span",null,[o("描述："+_(e.userinfo.describe),1),ie]),t("span",null,[o("个签："+_(e.userinfo.ExtraBuf.个性签名),1),de]),t("span",null,[o("国家："+_(e.userinfo.ExtraBuf.国),1),ce]),t("span",null,[o("省份："+_(e.userinfo.ExtraBuf.省),1),_e]),t("span",null,[o("市名："+_(e.userinfo.ExtraBuf.市),1),fe])]),t("div",null,[s(i,{"content-position":"center"},{default:u(()=>[o("其他信息")]),_:1}),t("span",null,[o("公司："+_(e.userinfo.ExtraBuf.公司名称),1),xe]),t("span",null,[o("企微："+_(e.userinfo.ExtraBuf.企微属性),1),pe]),me,e.userinfo.ExtraBuf.朋友圈背景?(a(),$(l,{key:0,src:I(M)(e.userinfo.ExtraBuf.朋友圈背景),alt:"朋友圈背景",style:{"max-width":"200px","max-height":"200px"},"preview-src-list":[I(M)(e.userinfo.ExtraBuf.朋友圈背景)],"hide-on-click-modal":!0},null,8,["src","preview-src-list"])):v("",!0)])])):(a(),p("div",he,[t("span",null,[o("wxid："+_(e.userinfo.wxid),1),ve]),t("span",null,[o("账号："+_(e.userinfo.account),1),we]),t("span",null,[o("昵称："+_(e.userinfo.nickname),1),ye]),e.userinfo.remark?(a(),p("span",be,[o("备注："+_(e.userinfo.remark),1),ge])):v("",!0),e.userinfo.ExtraBuf&&e.userinfo.ExtraBuf["性别[1男2女]"]?(a(),p("span",Ee,[o("性别："+_(e.userinfo.ExtraBuf["性别[1男2女]"]==1?"男":e.userinfo.ExtraBuf["性别[1男2女]"]==2?"女":""),1),ke])):v("",!0),e.userinfo.ExtraBuf&&e.userinfo.ExtraBuf.手机号?(a(),p("span",$e,[o("手机："+_(e.userinfo.ExtraBuf.手机号),1),Be])):v("",!0),e.userinfo.LabelIDList&&e.userinfo.LabelIDList.length>0?(a(),p("span",Ve,[o("标签："+_(e.userinfo.LabelIDList.join("/")),1),Ce])):v("",!0),e.userinfo.describe?(a(),p("span",qe,[o("描述："+_(e.userinfo.describe),1),Se])):v("",!0),e.userinfo.ExtraBuf&&e.userinfo.ExtraBuf.个性签名?(a(),p("span",Ie,[o("个签："+_(e.userinfo.ExtraBuf.个性签名),1),Le])):v("",!0),e.userinfo.ExtraBuf&&e.userinfo.ExtraBuf.国?(a(),p("span",Ue,[o("国家："+_(e.userinfo.ExtraBuf.国),1),De])):v("",!0),e.userinfo.ExtraBuf&&e.userinfo.ExtraBuf.省?(a(),p("span",je,[o("省份："+_(e.userinfo.ExtraBuf.省),1),Re])):v("",!0),e.userinfo.ExtraBuf&&e.userinfo.ExtraBuf.市?(a(),p("span",Me,[o("市名："+_(e.userinfo.ExtraBuf.市),1),Te])):v("",!0),e.userinfo.ExtraBuf&&e.userinfo.ExtraBuf.公司名称?(a(),p("span",Ne,[o("公司："+_(e.userinfo.ExtraBuf.公司名称),1),ze])):v("",!0),e.userinfo.ExtraBuf&&e.userinfo.ExtraBuf.企微属性?(a(),p("span",Fe,[o("企微："+_(e.userinfo.ExtraBuf.企微属性),1),Oe])):v("",!0),e.userinfo.ExtraBuf&&e.userinfo.ExtraBuf.朋友圈背景?(a(),p("span",He,[o("朋友圈背景："),Ae])):v("",!0),e.userinfo.ExtraBuf&&e.userinfo.ExtraBuf.朋友圈背景?(a(),$(l,{key:12,src:I(M)(e.userinfo.ExtraBuf.朋友圈背景),style:{"max-width":"200px","max-height":"200px"},alt:"朋友圈背景"},null,8,["src"])):v("",!0)]))}}}),Pe=e=>(W("data-v-0836fbf7"),e=e(),K(),e),We={style:{padding:"10px 10px"}},Ke={slot:"content",class:"tips"},Je=Pe(()=>t("br",null,null,-1)),Xe={key:0,style:{color:"#909399","font-size":"12px"}},Ge=V({__name:"ContactsList",emits:["wxid"],setup(e,{emit:d}){const n=y([]);T(async()=>{try{n.value=await z()}catch(f){return console.error("Error fetching data:",f),[]}});const l=y(""),r=async()=>{try{if(l.value===""){n.value=await z();return}console.log(l.value),n.value=[];const f=await O(l.value);f!==null&&typeof f=="object"&&Object.entries(f).forEach(([h,g])=>{n.value.push(g)})}catch(f){return console.error("Error fetching data:",f),[]}},x=d,m=f=>{f!==void 0&&f.wxid!==void 0&&(console.log("wxid:",f.wxid),x("wxid",f.wxid))};return(f,h)=>{const g=c("el-input"),k=c("el-button"),D=c("el-avatar"),L=c("el-table-column"),b=c("el-tooltip"),E=c("el-table");return a(),p("div",null,[t("div",We,[s(g,{placeholder:"请输入关键字",modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=w=>l.value=w),onKeyup:P(r,["enter"]),style:{width:"170px","margin-left":"15px"}},null,8,["modelValue"]),s(k,{type:"primary",onClick:r,style:{width:"50px"}},{default:u(()=>[o("搜索")]),_:1})]),s(E,{data:n.value,stripe:"",style:{width:"100%"},"max-height":"100%",height:"100%","highlight-current-row":"",loading:"lazy",onCurrentChange:m},{default:u(()=>[s(L,{width:"57"},{default:u(({row:w})=>[w.headImgUrl!==""?(a(),$(D,{key:0,size:33,src:I(M)(w.headImgUrl)},null,8,["src"])):(a(),$(D,{key:1,size:33},{default:u(()=>[o("群")]),_:1}))]),_:1}),s(L,{width:"190"},{default:u(({row:w})=>[s(b,{class:"item",effect:"light",placement:"right"},{content:u(()=>[s(A,{userinfo:w,show_all:!1,style:{"max-width":"600px"}},null,8,["userinfo"])]),default:u(()=>[t("div",Ke,[t("span",null,_(I(F)(w)),1),o(),Je,w.nTime?(a(),p("span",Xe,_(w.nTime),1)):v("",!0)])]),_:2},1024)]),_:1})]),_:1},8,["data"])])}}}),Qe=H(Ge,[["__scopeId","data-v-0836fbf7"]]),Ye=V({__name:"ChatRecprdsHeader",props:{wxid:{type:String,required:!0}},emits:["exporting"],setup(e,{emit:d}){const n=e,i=y(0),l=y({wxid:"",nOrder:0,nUnReadCount:0,strNickName:"",nStatus:0,nIsSend:0,strContent:"",nMsgLocalID:0,nMsgStatus:0,nTime:"",nMsgType:0,nMsgSubType:0,nickname:"",remark:"",account:"",describe:"",headImgUrl:"",ExtraBuf:{个性签名:"",企微属性:"",公司名称:"",国:"",备注图片:"",备注图片2:"",市:"","性别[1男2女]":0,手机号:"",朋友圈背景:"",省:""},LabelIDList:[]}),r=async()=>{var b,E,w,S,j,R,C;try{const B=await O("",[n.wxid]);return l.value.wxid=n.wxid,l.value.remark=(b=B[n.wxid])==null?void 0:b.remark,l.value.account=(E=B[n.wxid])==null?void 0:E.account,l.value.describe=(w=B[n.wxid])==null?void 0:w.describe,l.value.headImgUrl=(S=B[n.wxid])==null?void 0:S.headImgUrl,l.value.nickname=(j=B[n.wxid])==null?void 0:j.nickname,l.value.LabelIDList=(R=B[n.wxid])==null?void 0:R.LabelIDList,l.value.ExtraBuf=(C=B[n.wxid])==null?void 0:C.ExtraBuf,B}catch(B){return console.error("Error fetching data wxid2user :",B),[]}},x=async()=>{try{i.value=0;const b=await X(n.wxid);return i.value=b||0,b}catch(b){return console.error("Error fetching data msg_count:",b),[]}},m=()=>{k.value=!1,r(),x()};T(()=>{console.log("ChatRecprdsHeader onMounted",n.wxid),m()}),q(()=>n.wxid,async(b,E)=>{b!==E&&m()});const f=y(!1),h=y(!1),g=async()=>{if(h.value){console.log("正在获取实时消息，请稍后再试!");return}h.value=!0;try{const b=await J();return h.value=!1,b}catch{return h.value=!1,[]}},k=y(!1),D=d,L=b=>{D("exporting",b),k.value=b};return(b,E)=>{const w=c("el-text"),S=c("el-col"),j=c("el-row"),R=c("el-dialog");return a(),p(N,null,[s(j,{gutter:5,style:{width:"100%"}},{default:u(()=>[s(S,{span:6,style:{"white-space":"nowrap"}},{default:u(()=>{var C;return[s(w,{class:"label_color mx-1",truncated:""},{default:u(()=>[o("wxid:")]),_:1}),o("  "),s(w,{class:"data_color mx-1",truncated:"",title:(C=l.value)==null?void 0:C.wxid},{default:u(()=>{var B;return[o(_((B=l.value)==null?void 0:B.wxid),1)]}),_:1},8,["title"])]}),_:1}),s(S,{span:6,style:{"white-space":"nowrap"}},{default:u(()=>[s(w,{class:"label_color mx-1",truncated:""},{default:u(()=>[o("名称:")]),_:1}),o("  "),s(w,{class:"data_color mx-1",truncated:"",title:"show_name"},{default:u(()=>[o(_(I(F)(l.value)),1)]),_:1})]),_:1}),s(S,{span:5,style:{"white-space":"nowrap"}},{default:u(()=>[s(w,{class:"label_color mx-1",truncated:""},{default:u(()=>[o("数量:")]),_:1}),o("  "),s(w,{class:"data_color mx-1",truncated:"",title:i.value},{default:u(()=>[o(_(i.value),1)]),_:1},8,["title"])]),_:1}),s(S,{span:2,style:{"white-space":"nowrap"}},{default:u(()=>[s(w,{class:"button_color mx-1 underline",truncated:"",onClick:E[0]||(E[0]=C=>f.value=!f.value)},{default:u(()=>[o(" 详细信息")]),_:1})]),_:1}),s(S,{span:2,style:{"white-space":"nowrap"}},{default:u(()=>[k.value?v("",!0):(a(),$(w,{key:0,class:"button_color mx-1 underline",truncated:"",onClick:E[1]||(E[1]=C=>{L(!0)})},{default:u(()=>[o("导出备份 ")]),_:1})),k.value?(a(),$(w,{key:1,class:"button_color mx-1 underline",truncated:"",onClick:E[2]||(E[2]=C=>{L(!1)})},{default:u(()=>[o("聊天查看 ")]),_:1})):v("",!0)]),_:1}),s(S,{span:3,style:{"white-space":"nowrap"}},{default:u(()=>[s(w,{class:"button_color mx-1 underline",truncated:"",onClick:E[3]||(E[3]=C=>{g()})},{default:u(()=>[o("实时消息 "),h.value?(a(),p(N,{key:0},[o("...")],64)):v("",!0)]),_:1})]),_:1})]),_:1}),s(R,{modelValue:f.value,"onUpdate:modelValue":E[4]||(E[4]=C=>f.value=C),title:"详细信息",width:"600",center:""},{default:u(()=>[s(A,{userinfo:l.value,show_all:!0},null,8,["userinfo"])]),_:1},8,["modelValue"])],64)}}}),Ze=H(Ye,[["__scopeId","data-v-6d9df34e"]]),et=t("br",null,null,-1),tt=t("br",null,null,-1),nt={style:{position:"relative"}},lt=V({__name:"ExportENDB",props:{wxid:{type:String,required:!0}},setup(e){const d=e;q(()=>d.wxid,(r,x)=>{console.log(r)});const n=y(""),i=y(""),l=async()=>{i.value="请求中...";try{i.value=await U.post("/api/rs/export_endb",{wx_path:n.value})}catch(r){return console.error("Error fetching data msg_count:",r),i.value=`请求失败
`+r,[]}};return(r,x)=>{const m=c("el-input"),f=c("el-button"),h=c("el-divider");return a(),p("div",null,[o(" 微信文件夹路径(可选)： "),s(m,{placeholder:"微信文件夹路径[可为空,空表示使用默认的，无默认会报错](eg: C:\\****\\WeChat Files\\wxid_**** )",modelValue:n.value,"onUpdate:modelValue":x[0]||(x[0]=g=>n.value=g),style:{width:"70%"}},null,8,["modelValue"]),et,tt,t("div",nt,[s(f,{type:"primary",onClick:x[1]||(x[1]=g=>l())},{default:u(()=>[o("导出")]),_:1})]),s(h),s(m,{type:"textarea",rows:6,readonly:"",placeholder:"",modelValue:i.value,"onUpdate:modelValue":x[2]||(x[2]=g=>i.value=g),style:{width:"100%"}},null,8,["modelValue"])])}}}),ot=t("br",null,null,-1),st=t("br",null,null,-1),at=t("br",null,null,-1),rt=t("br",null,null,-1),ut={style:{position:"relative"}},it=V({__name:"ExportDEDB",props:{wxid:{type:String,required:!0}},setup(e){const d=e;q(()=>d.wxid,(x,m)=>{console.log(x)});const n=y(""),i=y(""),l=y(""),r=async()=>{l.value="正在处理中...";try{l.value=await U.post("/api/rs/export_dedb",{key:i.value,wx_path:n.value})}catch(x){return console.error("Error fetching data msg_count:",x),l.value=`请求失败
`+x,[]}};return(x,m)=>{const f=c("el-input"),h=c("el-button"),g=c("el-divider");return a(),p("div",null,[o(" 密钥(可选)： "),s(f,{placeholder:"密钥[可为空,空表示使用默认的，无默认会报错]",modelValue:i.value,"onUpdate:modelValue":m[0]||(m[0]=k=>i.value=k),style:{width:"75%"}},null,8,["modelValue"]),ot,st,o(" 微信文件夹路径(可选)： "),s(f,{placeholder:"微信文件夹路径[可为空,空表示使用默认的，无默认会报错](eg: C:\\****\\WeChat Files\\wxid_**** )",modelValue:n.value,"onUpdate:modelValue":m[1]||(m[1]=k=>n.value=k),style:{width:"70%"}},null,8,["modelValue"]),at,rt,t("div",ut,[s(h,{type:"primary",onClick:m[2]||(m[2]=k=>r())},{default:u(()=>[o("导出")]),_:1})]),s(g),s(f,{type:"textarea",rows:6,readonly:"",placeholder:"",modelValue:l.value,"onUpdate:modelValue":m[3]||(m[3]=k=>l.value=k),style:{width:"100%"}},null,8,["modelValue"])])}}}),dt={style:{position:"relative"}},ct=V({__name:"ExportCSV",props:{wxid:{type:String,required:!0}},setup(e){const d=e;q(()=>d.wxid,(l,r)=>{console.log(l)});const n=y(""),i=async()=>{n.value="正在处理中...";try{n.value=await U.post("/api/rs/export_csv",{wxid:d.wxid})}catch(l){return console.error("Error fetching data msg_count:",l),n.value=`请求失败
`+l,[]}};return(l,r)=>{const x=c("el-button"),m=c("el-divider"),f=c("el-input");return a(),p("div",null,[t("div",dt,[s(x,{type:"primary",onClick:r[0]||(r[0]=h=>i())},{default:u(()=>[o("导出")]),_:1})]),s(m),s(f,{type:"textarea",rows:6,readonly:"",placeholder:"",modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=h=>n.value=h),style:{width:"100%"}},null,8,["modelValue"])])}}}),_t={style:{position:"relative"}},ft=V({__name:"ExportJSON",props:{wxid:{type:String,required:!0}},setup(e){const d=e;q(()=>d.wxid,(l,r)=>{console.log(l)}),y([]);const n=y(""),i=async()=>{n.value="正在处理中...";try{n.value=await U.post("/api/rs/export_json",{wxid:d.wxid})}catch(l){return console.error("Error fetching data msg_count:",l),n.value=`请求失败
`+l,[]}};return(l,r)=>{const x=c("el-button"),m=c("el-divider"),f=c("el-input");return a(),p("div",null,[t("div",_t,[s(x,{type:"primary",onClick:r[0]||(r[0]=h=>i())},{default:u(()=>[o("导出")]),_:1})]),s(m),s(f,{type:"textarea",rows:6,readonly:"",placeholder:"",modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=h=>n.value=h),style:{width:"100%"}},null,8,["modelValue"])])}}}),xt=t("span",null,"使用说明：（1）根据 https://blog.csdn.net/meser88/article/details/130229417 进行设置",-1),pt=t("br",null,null,-1),mt=t("span",null,"（2）打开导出的文件夹位置，使用（1）设置的浏览器打开 index.html 文件",-1),ht={style:{position:"relative"}},vt=V({__name:"ExportHTML",props:{wxid:{type:String,required:!0}},setup(e){const d=e;q(()=>d.wxid,(l,r)=>{console.log(l)}),y([]);const n=y(""),i=async()=>{n.value="正在处理中...";try{n.value=await U.post("/api/rs/export_html",{wxid:d.wxid})}catch(l){return console.error("Error fetching data msg_count:",l),n.value=`请求失败
`+l,[]}};return(l,r)=>{const x=c("el-button"),m=c("el-divider"),f=c("el-input");return a(),p("div",null,[xt,pt,mt,t("div",ht,[s(x,{type:"primary",onClick:r[0]||(r[0]=h=>i())},{default:u(()=>[o("导出")]),_:1})]),s(m),s(f,{type:"textarea",rows:6,readonly:"",placeholder:"",modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=h=>n.value=h),style:{width:"100%"}},null,8,["modelValue"])])}}}),wt=t("br",null,null,-1),yt=V({__name:"ExportPDF",props:{wxid:{type:String,required:!0}},setup(e){const d=e;q(()=>d.wxid,(i,l)=>{console.log(i)});const n=()=>{console.log("requestExport")};return(i,l)=>{const r=c("el-button");return a(),p("div",null,[t("span",null,_(d.wxid),1),wt,s(r,{type:"primary",onClick:l[0]||(l[0]=x=>n())},{default:u(()=>[o("导出")]),_:1})])}}}),bt=t("br",null,null,-1),gt=V({__name:"ExportDOCX",props:{wxid:{type:String,required:!0}},setup(e){const d=e;q(()=>d.wxid,(i,l)=>{console.log(i)});const n=()=>{console.log("requestExport")};return(i,l)=>{const r=c("el-button");return a(),p("div",null,[t("span",null,_(d.wxid),1),bt,s(r,{type:"primary",onClick:l[0]||(l[0]=x=>n())},{default:u(()=>[o("导出")]),_:1})])}}}),Et={id:"chat_export",style:{"background-color":"#d2d2fa",padding:"0"}},kt={style:{"background-color":"#d2d2fa",height:"calc(100vh - 65px)",display:"grid","place-items":"center"}},$t={style:{"background-color":"#fff",width:"70%",height:"70%","border-radius":"10px",padding:"20px",overflow:"auto"}},Bt=t("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}},[t("div",{style:{"font-size":"20px","font-weight":"bold"}},"导出与备份(未完待续...）"),t("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}})],-1),Vt={style:{"margin-top":"20px"}},Ct=t("br",null,null,-1),qt=t("br",null,null,-1),St={key:0},It=V({__name:"ChatExportMain",props:{wxid:{type:String,required:!0}},setup(e){const d=e;q(()=>d.wxid,(l,r)=>{console.log(l)});const n=y("");y("");const i={endb:{brief:"加密文件",detail:"导出的内容为微信加密数据库。可还原回微信,但会覆盖微信后续消息。(全程不解密，所以数据安全)"},dedb:{brief:"解密文件",detail:"导出的文件为解密后的sqlite数据库，并且会自动合并msg和media数据库为同一个，但是无法还原回微信。"},csv:{brief:"csv",detail:"只包含文本，但是可以用excel软件（wps，office）打开。"},json:{brief:"json",detail:"只包含文本，可用于数据分析，情感分析等方面。"},html:{brief:"html-测试中",detail:"主要用于浏览器可视化查看。"},pdf:{brief:"pdf-开发中",detail:"pdf版本。"},docx:{brief:"docx-开发中",detail:"docx版本。"}};return(l,r)=>{const x=c("el-option"),m=c("el-select"),f=c("el-divider"),h=c("el-main");return a(),p("div",Et,[s(h,{style:{"overflow-y":"auto",height:"calc(100vh - 65px)",padding:"0"}},{default:u(()=>[t("div",kt,[t("div",$t,[Bt,t("div",Vt,[o(" 导出类型: "),s(m,{placeholder:"请选择导出类型",style:{width:"50%"},modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=g=>n.value=g)},{default:u(()=>[(a(),p(N,null,G(i,(g,k)=>s(x,{label:g.brief,value:k,key:k},{default:u(()=>[o(_(g.brief),1)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"]),Ct,qt,n.value?(a(),p("span",St,_(i[n.value].detail),1)):v("",!0)]),s(f),n.value=="endb"?(a(),$(lt,{key:0,wxid:d.wxid},null,8,["wxid"])):v("",!0),n.value=="dedb"?(a(),$(it,{key:1,wxid:d.wxid},null,8,["wxid"])):v("",!0),n.value=="csv"?(a(),$(ct,{key:2,wxid:d.wxid},null,8,["wxid"])):v("",!0),n.value=="json"?(a(),$(ft,{key:3,wxid:d.wxid},null,8,["wxid"])):v("",!0),n.value=="html"?(a(),$(vt,{key:4,wxid:d.wxid},null,8,["wxid"])):v("",!0),n.value=="pdf"?(a(),$(yt,{key:5,wxid:d.wxid},null,8,["wxid"])):v("",!0),n.value=="docx"?(a(),$(gt,{key:6,wxid:d.wxid},null,8,["wxid"])):v("",!0)])])]),_:1})])}}}),Lt=V({__name:"ChatRecords",props:{wxid:{type:String,required:!0}},setup(e){const d=e,n=y(!1),i=r=>{n.value=r},l=()=>{n.value=!1};return q(()=>d.wxid,async(r,x)=>{r!==x&&l()}),T(()=>{l()}),(r,x)=>{const m=c("el-header"),f=c("el-main"),h=c("el-container");return a(),$(h,null,{default:u(()=>[s(m,{style:{height:"40px","max-height":"40px",width:"100%","background-color":"#d2d2fa","padding-top":"5px"}},{default:u(()=>[s(Ze,{wxid:e.wxid,onExporting:i},null,8,["wxid"])]),_:1}),s(f,{style:{height:"calc(100vh - 40px)",padding:"0",margin:"0","background-color":"#f5f5f5"}},{default:u(()=>[n.value?(a(),$(It,{key:0,wxid:e.wxid},null,8,["wxid"])):(a(),$(Q,{key:1,wxid:e.wxid},null,8,["wxid"]))]),_:1})]),_:1})}}}),Ut={id:"chat_view",class:"common-layout"},Dt={key:0,style:{height:"calc(100vh)",width:"100%"}},jt={key:1,style:{width:"100%",height:"100%"}},zt=V({__name:"ChatView",setup(e){const d=y("");return T(()=>{Y().then(n=>{console.log("API version: "+n)}).catch(n=>{console.error("Error fetching API version:",n)}),Z()}),(n,i)=>{const l=c("el-aside"),r=c("el-container");return a(),p("div",Ut,[t("div",null,[s(r,null,{default:u(()=>[s(l,{width:"auto",style:{"overflow-y":"auto",height:"calc(100vh)"}},{default:u(()=>[s(Qe,{onWxid:i[0]||(i[0]=x=>{d.value=x})})]),_:1}),d.value!=""?(a(),p("div",Dt,[s(Lt,{wxid:d.value},null,8,["wxid"])])):(a(),p("div",jt,[s(ee)]))]),_:1})])])}}});export{zt as default};
