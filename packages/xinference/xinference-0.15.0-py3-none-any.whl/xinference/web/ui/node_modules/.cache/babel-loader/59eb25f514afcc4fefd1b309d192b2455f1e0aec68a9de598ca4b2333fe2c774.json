{"ast":null,"code":"import _toConsumableArray from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/runner/work/inference/inference/xinference/web/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import AddIcon from'@mui/icons-material/Add';import DeleteIcon from'@mui/icons-material/Delete';import{Alert,Button,TextField}from'@mui/material';import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var regex=/^[1-9]\\d*$/;var AddStop=function AddStop(_ref){var label=_ref.label,onGetData=_ref.onGetData,arrItemType=_ref.arrItemType,formData=_ref.formData,onGetError=_ref.onGetError,helperText=_ref.helperText;var _useState=useState(formData!==null&&formData!==void 0&&formData.length?formData:['']),_useState2=_slicedToArray(_useState,2),dataArr=_useState2[0],setDataArr=_useState2[1];var arr=[];useEffect(function(){if(arrItemType==='number'){var newDataArr=dataArr.map(function(item){if(item&&regex.test(item)){arr.push('true');return Number(item);}if(item&&!regex.test(item))arr.push('false');return item;});onGetError(arr);onGetData(newDataArr);}else{onGetData(dataArr);}},[dataArr]);var handleChange=function handleChange(value,index){var arr=_toConsumableArray(dataArr);arr[index]=value;setDataArr(_toConsumableArray(arr));};var handleAdd=function handleAdd(){if(dataArr[dataArr.length-1]){setDataArr([].concat(_toConsumableArray(dataArr),['']));}};var handleDelete=function handleDelete(index){setDataArr(dataArr.filter(function(_,subIndex){return index!==subIndex;}));};var handleShowAlert=function handleShowAlert(item){return item!==''&&!regex.test(item)&&arrItemType==='number';};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',marginBottom:10},children:[/*#__PURE__*/_jsx(\"label\",{style:{width:'100px'},children:label}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",endIcon:/*#__PURE__*/_jsx(AddIcon,{}),className:\"addBtn\",onClick:handleAdd,children:\"more\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:10,marginInline:50,padding:20,backgroundColor:'#eee',borderRadius:10},children:dataArr.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:5},children:[/*#__PURE__*/_jsx(TextField,{value:item,onChange:function onChange(e){return handleChange(e.target.value,index);},label:helperText,size:\"small\",style:{width:'100%'}}),dataArr.length>1&&/*#__PURE__*/_jsx(DeleteIcon,{onClick:function onClick(){return handleDelete(index);},style:{cursor:'pointer',color:'#1976d2'}})]}),handleShowAlert(item)&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:\"Please enter an integer.\"})]},index);})})]})});};export default AddStop;","map":{"version":3,"names":["AddIcon","DeleteIcon","Alert","Button","TextField","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","regex","AddStop","_ref","label","onGetData","arrItemType","formData","onGetError","helperText","_useState","length","_useState2","_slicedToArray","dataArr","setDataArr","arr","newDataArr","map","item","test","push","Number","handleChange","value","index","_toConsumableArray","handleAdd","concat","handleDelete","filter","_","subIndex","handleShowAlert","children","style","display","alignItems","marginBottom","width","variant","size","endIcon","className","onClick","flexDirection","gap","marginInline","padding","backgroundColor","borderRadius","onChange","e","target","cursor","color","severity"],"sources":["/home/runner/work/inference/inference/xinference/web/ui/src/scenes/register_model/components/addStop.js"],"sourcesContent":["import AddIcon from '@mui/icons-material/Add'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport { Alert, Button, TextField } from '@mui/material'\nimport React, { useEffect, useState } from 'react'\n\nconst regex = /^[1-9]\\d*$/\n\nconst AddStop = ({\n  label,\n  onGetData,\n  arrItemType,\n  formData,\n  onGetError,\n  helperText,\n}) => {\n  const [dataArr, setDataArr] = useState(formData?.length ? formData : [''])\n  const arr = []\n\n  useEffect(() => {\n    if (arrItemType === 'number') {\n      const newDataArr = dataArr.map((item) => {\n        if (item && regex.test(item)) {\n          arr.push('true')\n          return Number(item)\n        }\n        if (item && !regex.test(item)) arr.push('false')\n        return item\n      })\n      onGetError(arr)\n      onGetData(newDataArr)\n    } else {\n      onGetData(dataArr)\n    }\n  }, [dataArr])\n\n  const handleChange = (value, index) => {\n    const arr = [...dataArr]\n    arr[index] = value\n    setDataArr([...arr])\n  }\n\n  const handleAdd = () => {\n    if (dataArr[dataArr.length - 1]) {\n      setDataArr([...dataArr, ''])\n    }\n  }\n\n  const handleDelete = (index) => {\n    setDataArr(dataArr.filter((_, subIndex) => index !== subIndex))\n  }\n\n  const handleShowAlert = (item) => {\n    return item !== '' && !regex.test(item) && arrItemType === 'number'\n  }\n\n  return (\n    <>\n      <div>\n        <div\n          style={{ display: 'flex', alignItems: 'center', marginBottom: 10 }}\n        >\n          <label style={{ width: '100px' }}>{label}</label>\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            endIcon={<AddIcon />}\n            className=\"addBtn\"\n            onClick={handleAdd}\n          >\n            more\n          </Button>\n        </div>\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 10,\n            marginInline: 50,\n            padding: 20,\n            backgroundColor: '#eee',\n            borderRadius: 10,\n          }}\n        >\n          {dataArr.map((item, index) => (\n            <div key={index}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: 5 }}>\n                <TextField\n                  value={item}\n                  onChange={(e) => handleChange(e.target.value, index)}\n                  label={helperText}\n                  size=\"small\"\n                  style={{ width: '100%' }}\n                />\n                {dataArr.length > 1 && (\n                  <DeleteIcon\n                    onClick={() => handleDelete(index)}\n                    style={{ cursor: 'pointer', color: '#1976d2' }}\n                  />\n                )}\n              </div>\n\n              {handleShowAlert(item) && (\n                <Alert severity=\"error\">Please enter an integer.</Alert>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default AddStop\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}