import{r as a,a as u}from"./react-B_oiY0eS.js";import{H as w}from"./Helmet-C1sjFUNi.js";import{O as m,P as p,b as h,c as x}from"./Pane-cmmvEha6.js";import{u as g,F as b,n as i}from"./index-aa2HDIEK.js";import{j as e,$ as s}from"./ui-DatY0g0Y.js";import{u as y}from"./reactQuery-BtcRQ453.js";import{u as P}from"./useSystemSettingsQuery-C96-Il5M.js";import"./sentry-BTvhu1v5.js";import"./syntaxHighlighter-DXL6zb_R.js";import"./reactRouter-Dh-VoDdx.js";function S({title:t,titleId:r,...o},d){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},o),t?a.createElement("title",{id:r},t):null,a.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const v=a.forwardRef(S);function T(){const t=g();return y(["system","dependencies"],()=>t.fetch("/system/dependencies").then(r=>r.json()))}function R(){const t=g();return y(["system","storage"],()=>t.fetch("/system/storage").then(r=>r.json()))}function L({title:t,titleId:r,...o},d){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},o),t?a.createElement("title",{id:r},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"}))}const C=a.forwardRef(L);function N(){return e(u.Fragment,null,e(b,{className:"w-3 inline mr-1"}),"null")}function j(){return e(u.Fragment,null,e(v,{className:"w-3 inline mr-1"}),"true")}function E(){return e(u.Fragment,null,e(b,{className:"w-3 inline mr-1"}),"false")}function f({value:t}){return t===null?e(N,null):typeof t=="string"||typeof t=="number"?t:typeof t=="boolean"?t?e(j,null):e(E,null):e(c,{settings:t})}const c=({settings:t})=>e("table",{className:"min-w-fit divide-y divide-gray-300"},e("tbody",{className:"divide-y divide-gray-200 bg-white"},Object.entries(t).map(([r,o])=>r=="@type"?e("tr",{key:r},e("td",{colSpan:2,className:"whitespace-nowrap py-2 px-4 text-sm font-medium font-mono text-xs text-gray-500 min-w-fit flex items-center",title:"This setting is a factory."},e(C,{className:" w-4 h-4 inline-block"}),e(f,{value:o}))):e("tr",{key:r},e("td",{className:"whitespace-nowrap py-2 px-4 text-sm font-medium text-gray-900 min-w-fit align-top"},r),e("td",{className:"whitespace-nowrap text-sm text-gray-500"},e(f,{value:o})))))),l={List:i(s.List)(()=>[{display:"flex","> :not([hidden]) ~ :not([hidden])":{"--tw-space-x-reverse":"0",marginRight:"calc(1rem * var(--tw-space-x-reverse))",marginLeft:"calc(1rem * calc(1 - var(--tw-space-x-reverse)))"},borderBottomWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(6 95 159 / var(--tw-border-opacity))",paddingLeft:"1rem",paddingRight:"1rem"}]),InnerTab:i("span")(({selected:t=!1})=>[{display:"block"},{cursor:"pointer",fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"500"},{borderTopLeftRadius:"0.125rem",borderTopRightRadius:"0.125rem",borderWidth:"1px",borderBottomWidth:"0px","--tw-border-opacity":"1",borderColor:"rgb(6 95 159 / var(--tw-border-opacity))",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"},t?{"--tw-border-opacity":"1",borderColor:"rgb(6 95 159 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(6 95 159 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}:{"--tw-text-opacity":"1",color:"rgb(6 95 159 / var(--tw-text-opacity))"}]),Panels:i(s.Panels)(()=>[{maxWidth:"100%",borderWidth:"1px",borderTopWidth:"0px","--tw-border-opacity":"1",borderColor:"rgb(6 95 159 / var(--tw-border-opacity))",padding:"1rem"}]),Panel:i(s.Panel)(()=>[{overflow:"auto"}])};function F({children:t}){return e(s,{as:"button",className:"focus:ring-0 focus:ring-offset-0 focus:outline-none"},({selected:r})=>e(l.InnerTab,{selected:r},t))}const n=Object.assign(F,{Group:s.Group,List:l.List,Panels:l.Panels,Panel:l.Panel}),W=()=>{const t=T();return e(n.Panel,null,e(m,{query:t},r=>e(p,{hasDefaultPadding:!1},e(c,{settings:r.data}))))};function k(){const t=P();return e(n.Panel,null,e(m,{query:t},r=>e(p,{hasDefaultPadding:!1},e(c,{settings:r.data}))))}function B(){const t=R();return e(n.Panel,null,e(m,{query:t},r=>e(p,{hasDefaultPadding:!1},e(c,{settings:r.data}))))}const M=()=>e(x,{title:e(h,{title:"System",description:"Informations about the running instance."})},e(w,null,e("title",null,"System | Harp"),e("meta",{name:"description",content:"System page"})),e(n.Group,null,e(n.List,{as:"nav","aria-label":"Tabs"},e(n,null,"Settings"),e(n,null,"Storage"),e(n,null,"Dependencies")),e(n.Panels,null,e(k,null),e(B,null),e(W,null))));export{M as default};
