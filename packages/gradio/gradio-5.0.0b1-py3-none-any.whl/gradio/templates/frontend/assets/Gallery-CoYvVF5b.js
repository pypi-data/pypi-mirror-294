import{I as oe,C as Ze}from"./Index-DmELy3F_.js";import{B as xe}from"./BlockLabel-BFDmAMU7.js";import{E as et}from"./Empty-i_-7WnjX.js";import{S as tt}from"./ShareButton-0ema9xiJ.js";import{D as lt}from"./Download-DVtk-Jv3.js";import{a as se,M as me}from"./Minimize-X5PPawdt.js";import{I as De}from"./Image-Bsh8Umrh.js";import{P as Re}from"./Play-B0Q0U1Qz.js";import"./index-PmUrmWf3.js";/* empty css                                                   */import{M as nt}from"./ModifyUpload-BlTDeGPD.js";import{I as ue}from"./Image-DdxZNCNa.js";/* empty css                                                   */import{V as ae}from"./Video-zkenuhlU.js";import{u as it}from"./Blocks-CLiYArz7.js";import"./Community-CC3ywblm.js";import"./svelte/svelte.js";import"./Undo-CpmTQw3B.js";import"./DownloadLink-bOXpZH3e.js";import"./file-url-BoqKM9uW.js";import"./hls-CnVhpNcu.js";import"./Button-D6vjqmf0.js";var he=Object.prototype.hasOwnProperty;function ge(l,e,n){for(n of l.keys())if(ee(n,e))return n}function ee(l,e){var n,t,i;if(l===e)return!0;if(l&&e&&(n=l.constructor)===e.constructor){if(n===Date)return l.getTime()===e.getTime();if(n===RegExp)return l.toString()===e.toString();if(n===Array){if((t=l.length)===e.length)for(;t--&&ee(l[t],e[t]););return t===-1}if(n===Set){if(l.size!==e.size)return!1;for(t of l)if(i=t,i&&typeof i=="object"&&(i=ge(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(l.size!==e.size)return!1;for(t of l)if(i=t[0],i&&typeof i=="object"&&(i=ge(e,i),!i)||!ee(t[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)l=new Uint8Array(l),e=new Uint8Array(e);else if(n===DataView){if((t=l.byteLength)===e.byteLength)for(;t--&&l.getInt8(t)===e.getInt8(t););return t===-1}if(ArrayBuffer.isView(l)){if((t=l.byteLength)===e.byteLength)for(;t--&&l[t]===e[t];);return t===-1}if(!n||typeof l=="object"){t=0;for(n in l)if(he.call(l,n)&&++t&&!he.call(e,n)||!(n in e)||!ee(l[n],e[n]))return!1;return Object.keys(e).length===t}}return l!==l&&e!==e}async function rt(l){return l?`<div style="display: flex; flex-wrap: wrap; gap: 16px">${(await Promise.all(l.map(async([n,t])=>n===null||!n.url?"":await it(n.url)))).map(n=>`<img src="${n}" style="height: 400px" />`).join("")}</div>`:""}const{SvelteComponent:ot,add_render_callback:ft,append:I,attr:E,binding_callbacks:fe,bubble:de,check_outros:C,create_component:D,destroy_component:R,destroy_each:Ae,detach:q,element:V,empty:st,ensure_array_like:re,flush:T,globals:ut,group_outros:S,init:at,insert:F,is_function:ct,listen:te,mount_component:A,noop:Me,run_all:_t,safe_not_equal:mt,set_data:Ue,set_style:N,space:M,text:Ce,toggle_class:U,transition_in:c,transition_out:h}=window.__gradio__svelte__internal,{window:Se}=ut,{createEventDispatcher:ht,onMount:gt}=window.__gradio__svelte__internal,{tick:dt}=window.__gradio__svelte__internal;function be(l,e,n){const t=l.slice();return t[47]=e[n],t[49]=n,t}function we(l,e,n){const t=l.slice();return t[50]=e[n],t[51]=e,t[49]=n,t}function pe(l){let e,n;return e=new xe({props:{show_label:l[2],Icon:De,label:l[3]||"Gallery"}}),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},p(t,i){const r={};i[0]&4&&(r.show_label=t[2]),i[0]&8&&(r.label=t[3]||"Gallery"),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function bt(l){let e,n,t,i,r,g,m,f=l[21]&&l[7]&&ke(l),b=l[12]&&Ee(l),p=l[9]&&Le(l),v=re(l[15]),s=[];for(let a=0;a<v.length;a+=1)s[a]=Te(be(l,v,a));const w=a=>h(s[a],1,1,()=>{s[a]=null});return{c(){e=V("div"),f&&f.c(),n=M(),t=V("div"),i=V("div"),b&&b.c(),r=M(),p&&p.c(),g=M();for(let a=0;a<s.length;a+=1)s[a].c();E(i,"class","grid-container svelte-14trwwd"),N(i,"--grid-cols",l[4]),N(i,"--grid-rows",l[5]),N(i,"--object-fit",l[8]),N(i,"height",l[6]),U(i,"pt-6",l[2]),E(t,"class","grid-wrap svelte-14trwwd"),U(t,"minimal",l[13]==="minimal"),U(t,"fixed-height",l[13]!=="minimal"&&(!l[6]||l[6]=="auto")),U(t,"hidden",l[16]),E(e,"class","gallery-container")},m(a,d){F(a,e,d),f&&f.m(e,null),I(e,n),I(e,t),I(t,i),b&&b.m(i,null),I(i,r),p&&p.m(i,null),I(i,g);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);l[42](e),m=!0},p(a,d){if(a[21]&&a[7]?f?(f.p(a,d),d[0]&2097280&&c(f,1)):(f=ke(a),f.c(),c(f,1),f.m(e,n)):f&&(S(),h(f,1,1,()=>{f=null}),C()),a[12]?b?(b.p(a,d),d[0]&4096&&c(b,1)):(b=Ee(a),b.c(),c(b,1),b.m(i,r)):b&&(S(),h(b,1,1,()=>{b=null}),C()),a[9]?p?(p.p(a,d),d[0]&512&&c(p,1)):(p=Le(a),p.c(),c(p,1),p.m(i,g)):p&&(S(),h(p,1,1,()=>{p=null}),C()),d[0]&32770){v=re(a[15]);let u;for(u=0;u<v.length;u+=1){const k=be(a,v,u);s[u]?(s[u].p(k,d),c(s[u],1)):(s[u]=Te(k),s[u].c(),c(s[u],1),s[u].m(i,null))}for(S(),u=v.length;u<s.length;u+=1)w(u);C()}(!m||d[0]&16)&&N(i,"--grid-cols",a[4]),(!m||d[0]&32)&&N(i,"--grid-rows",a[5]),(!m||d[0]&256)&&N(i,"--object-fit",a[8]),(!m||d[0]&64)&&N(i,"height",a[6]),(!m||d[0]&4)&&U(i,"pt-6",a[2]),(!m||d[0]&8192)&&U(t,"minimal",a[13]==="minimal"),(!m||d[0]&8256)&&U(t,"fixed-height",a[13]!=="minimal"&&(!a[6]||a[6]=="auto")),(!m||d[0]&65536)&&U(t,"hidden",a[16])},i(a){if(!m){c(f),c(b),c(p);for(let d=0;d<v.length;d+=1)c(s[d]);m=!0}},o(a){h(f),h(b),h(p),s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)h(s[d]);m=!1},d(a){a&&q(e),f&&f.d(),b&&b.d(),p&&p.d(),Ae(s,a),l[42](null)}}}function wt(l){let e,n;return e=new et({props:{unpadded_box:!0,size:"large",$$slots:{default:[zt]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},p(t,i){const r={};i[1]&2097152&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function ke(l){let e,n,t,i,r,g,m,f,b,p,v,s,w,a,d,u=l[10]&&ve(l),k=l[14]&&!l[16]&&ye(l),_=l[14]&&l[16]&&je(l),z=!l[16]&&$e(l);const K=[kt,pt],G=[];function Z(y,j){return"image"in y[21]?0:1}f=Z(l),b=G[f]=K[f](l);let L=l[21]?.caption&&ze(l),O=re(l[15]),$=[];for(let y=0;y<O.length;y+=1)$[y]=Ie(we(l,O,y));const J=y=>h($[y],1,1,()=>{$[y]=null});return{c(){e=V("button"),n=V("div"),u&&u.c(),t=M(),k&&k.c(),i=M(),_&&_.c(),r=M(),z&&z.c(),g=M(),m=V("button"),b.c(),p=M(),L&&L.c(),v=M(),s=V("div");for(let y=0;y<$.length;y+=1)$[y].c();E(n,"class","icon-buttons svelte-14trwwd"),E(m,"class","media-button svelte-14trwwd"),N(m,"height","calc(100% - "+(l[21].caption?"80px":"60px")+")"),E(m,"aria-label","detailed view of selected image"),E(s,"class","thumbnails scroll-hide svelte-14trwwd"),E(s,"data-testid","container_el"),E(e,"class","preview svelte-14trwwd"),U(e,"minimal",l[13]==="minimal")},m(y,j){F(y,e,j),I(e,n),u&&u.m(n,null),I(n,t),k&&k.m(n,null),I(n,i),_&&_.m(n,null),I(n,r),z&&z.m(n,null),I(e,g),I(e,m),G[f].m(m,null),I(e,p),L&&L.m(e,null),I(e,v),I(e,s);for(let P=0;P<$.length;P+=1)$[P]&&$[P].m(s,null);l[37](s),w=!0,a||(d=[te(m,"click",function(){ct("image"in l[21]?l[34]:null)&&("image"in l[21]?l[34]:null).apply(this,arguments)}),te(e,"keydown",l[23])],a=!0)},p(y,j){l=y,l[10]?u?(u.p(l,j),j[0]&1024&&c(u,1)):(u=ve(l),u.c(),c(u,1),u.m(n,t)):u&&(S(),h(u,1,1,()=>{u=null}),C()),l[14]&&!l[16]?k?(k.p(l,j),j[0]&81920&&c(k,1)):(k=ye(l),k.c(),c(k,1),k.m(n,i)):k&&(S(),h(k,1,1,()=>{k=null}),C()),l[14]&&l[16]?_?(_.p(l,j),j[0]&81920&&c(_,1)):(_=je(l),_.c(),c(_,1),_.m(n,r)):_&&(S(),h(_,1,1,()=>{_=null}),C()),l[16]?z&&(S(),h(z,1,1,()=>{z=null}),C()):z?(z.p(l,j),j[0]&65536&&c(z,1)):(z=$e(l),z.c(),c(z,1),z.m(n,null));let P=f;if(f=Z(l),f===P?G[f].p(l,j):(S(),h(G[P],1,1,()=>{G[P]=null}),C(),b=G[f],b?b.p(l,j):(b=G[f]=K[f](l),b.c()),c(b,1),b.m(m,null)),(!w||j[0]&2097152)&&N(m,"height","calc(100% - "+(l[21].caption?"80px":"60px")+")"),l[21]?.caption?L?L.p(l,j):(L=ze(l),L.c(),L.m(e,v)):L&&(L.d(1),L=null),j[0]&303106){O=re(l[15]);let B;for(B=0;B<O.length;B+=1){const le=we(l,O,B);$[B]?($[B].p(le,j),c($[B],1)):($[B]=Ie(le),$[B].c(),c($[B],1),$[B].m(s,null))}for(S(),B=O.length;B<$.length;B+=1)J(B);C()}(!w||j[0]&8192)&&U(e,"minimal",l[13]==="minimal")},i(y){if(!w){c(u),c(k),c(_),c(z),c(b);for(let j=0;j<O.length;j+=1)c($[j]);w=!0}},o(y){h(u),h(k),h(_),h(z),h(b),$=$.filter(Boolean);for(let j=0;j<$.length;j+=1)h($[j]);w=!1},d(y){y&&q(e),u&&u.d(),k&&k.d(),_&&_.d(),z&&z.d(),G[f].d(),L&&L.d(),Ae($,y),l[37](null),a=!1,_t(d)}}}function ve(l){let e,n;return e=new oe({props:{Icon:lt,label:l[11]("common.download")}}),e.$on("click",l[32]),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},p(t,i){const r={};i[0]&2048&&(r.label=t[11]("common.download")),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function ye(l){let e,n;return e=new oe({props:{Icon:l[16]?se:me,label:l[16]?"Exit full screen":"View in full screen"}}),e.$on("click",l[25]),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},p(t,i){const r={};i[0]&65536&&(r.Icon=t[16]?se:me),i[0]&65536&&(r.label=t[16]?"Exit full screen":"View in full screen"),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function je(l){let e,n;return e=new oe({props:{Icon:se,label:"Exit full screen"}}),e.$on("click",l[25]),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},p:Me,i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function $e(l){let e,n;return e=new oe({props:{Icon:Ze,label:"Close"}}),e.$on("click",l[33]),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},p:Me,i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function pt(l){let e,n;return e=new ae({props:{src:l[21].video.url,"data-testid":"detailed-video",alt:l[21].caption||"",loading:"lazy",loop:!1,is_stream:!1,muted:!1,controls:!0}}),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},p(t,i){const r={};i[0]&2097152&&(r.src=t[21].video.url),i[0]&2097152&&(r.alt=t[21].caption||""),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function kt(l){let e,n;return e=new ue({props:{"data-testid":"detailed-image",src:l[21].image.url,alt:l[21].caption||"",title:l[21].caption||null,class:l[21].caption&&"with-caption",loading:"lazy"}}),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},p(t,i){const r={};i[0]&2097152&&(r.src=t[21].image.url),i[0]&2097152&&(r.alt=t[21].caption||""),i[0]&2097152&&(r.title=t[21].caption||null),i[0]&2097152&&(r.class=t[21].caption&&"with-caption"),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function ze(l){let e,n=l[21].caption+"",t;return{c(){e=V("caption"),t=Ce(n),E(e,"class","caption svelte-14trwwd")},m(i,r){F(i,e,r),I(e,t)},p(i,r){r[0]&2097152&&n!==(n=i[21].caption+"")&&Ue(t,n)},d(i){i&&q(e)}}}function vt(l){let e,n,t,i;return e=new Re({}),t=new ae({props:{src:l[50].video.url,title:l[50].caption||null,is_stream:!1,"data-testid":"thumbnail "+(l[49]+1),alt:"",loading:"lazy",loop:!1}}),{c(){D(e.$$.fragment),n=M(),D(t.$$.fragment)},m(r,g){A(e,r,g),F(r,n,g),A(t,r,g),i=!0},p(r,g){const m={};g[0]&32768&&(m.src=r[50].video.url),g[0]&32768&&(m.title=r[50].caption||null),t.$set(m)},i(r){i||(c(e.$$.fragment,r),c(t.$$.fragment,r),i=!0)},o(r){h(e.$$.fragment,r),h(t.$$.fragment,r),i=!1},d(r){r&&q(n),R(e,r),R(t,r)}}}function yt(l){let e,n;return e=new ue({props:{src:l[50].image.url,title:l[50].caption||null,"data-testid":"thumbnail "+(l[49]+1),alt:"",loading:"lazy"}}),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},p(t,i){const r={};i[0]&32768&&(r.src=t[50].image.url),i[0]&32768&&(r.title=t[50].caption||null),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function Ie(l){let e,n,t,i,r,g=l[49],m,f,b;const p=[yt,vt],v=[];function s(u,k){return"image"in u[50]?0:1}n=s(l),t=v[n]=p[n](l);const w=()=>l[35](e,g),a=()=>l[35](null,g);function d(){return l[36](l[49])}return{c(){e=V("button"),t.c(),i=M(),E(e,"class","thumbnail-item thumbnail-small svelte-14trwwd"),E(e,"aria-label",r="Thumbnail "+(l[49]+1)+" of "+l[15].length),U(e,"selected",l[1]===l[49]&&l[13]!=="minimal")},m(u,k){F(u,e,k),v[n].m(e,null),I(e,i),w(),m=!0,f||(b=te(e,"click",d),f=!0)},p(u,k){l=u;let _=n;n=s(l),n===_?v[n].p(l,k):(S(),h(v[_],1,1,()=>{v[_]=null}),C(),t=v[n],t?t.p(l,k):(t=v[n]=p[n](l),t.c()),c(t,1),t.m(e,i)),(!m||k[0]&32768&&r!==(r="Thumbnail "+(l[49]+1)+" of "+l[15].length))&&E(e,"aria-label",r),g!==l[49]&&(a(),g=l[49],w()),(!m||k[0]&8194)&&U(e,"selected",l[1]===l[49]&&l[13]!=="minimal")},i(u){m||(c(t),m=!0)},o(u){h(t),m=!1},d(u){u&&q(e),v[n].d(),a(),f=!1,b()}}}function Ee(l){let e,n,t;return n=new nt({props:{i18n:l[11],absolute:!1}}),n.$on("clear",l[38]),{c(){e=V("div"),D(n.$$.fragment),E(e,"class","icon-button svelte-14trwwd")},m(i,r){F(i,e,r),A(n,e,null),t=!0},p(i,r){const g={};r[0]&2048&&(g.i18n=i[11]),n.$set(g)},i(i){t||(c(n.$$.fragment,i),t=!0)},o(i){h(n.$$.fragment,i),t=!1},d(i){i&&q(e),R(n)}}}function Le(l){let e,n,t;return n=new tt({props:{i18n:l[11],value:l[15],formatter:rt}}),n.$on("share",l[39]),n.$on("error",l[40]),{c(){e=V("div"),D(n.$$.fragment),E(e,"class","icon-button svelte-14trwwd")},m(i,r){F(i,e,r),A(n,e,null),t=!0},p(i,r){const g={};r[0]&2048&&(g.i18n=i[11]),r[0]&32768&&(g.value=i[15]),n.$set(g)},i(i){t||(c(n.$$.fragment,i),t=!0)},o(i){h(n.$$.fragment,i),t=!1},d(i){i&&q(e),R(n)}}}function jt(l){let e,n,t,i;return e=new Re({}),t=new ae({props:{src:l[47].video.url,title:l[47].caption||null,is_stream:!1,"data-testid":"thumbnail "+(l[49]+1),alt:"",loading:"lazy",loop:!1}}),{c(){D(e.$$.fragment),n=M(),D(t.$$.fragment)},m(r,g){A(e,r,g),F(r,n,g),A(t,r,g),i=!0},p(r,g){const m={};g[0]&32768&&(m.src=r[47].video.url),g[0]&32768&&(m.title=r[47].caption||null),t.$set(m)},i(r){i||(c(e.$$.fragment,r),c(t.$$.fragment,r),i=!0)},o(r){h(e.$$.fragment,r),h(t.$$.fragment,r),i=!1},d(r){r&&q(n),R(e,r),R(t,r)}}}function $t(l){let e,n;return e=new ue({props:{alt:l[47].caption||"",src:typeof l[47].image=="string"?l[47].image:l[47].image.url,loading:"lazy"}}),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},p(t,i){const r={};i[0]&32768&&(r.alt=t[47].caption||""),i[0]&32768&&(r.src=typeof t[47].image=="string"?t[47].image:t[47].image.url),e.$set(r)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function Be(l){let e,n=l[47].caption+"",t;return{c(){e=V("div"),t=Ce(n),E(e,"class","caption-label svelte-14trwwd")},m(i,r){F(i,e,r),I(e,t)},p(i,r){r[0]&32768&&n!==(n=i[47].caption+"")&&Ue(t,n)},d(i){i&&q(e)}}}function Te(l){let e,n,t,i,r,g,m,f,b;const p=[$t,jt],v=[];function s(d,u){return"image"in d[47]?0:1}n=s(l),t=v[n]=p[n](l);let w=l[47].caption&&Be(l);function a(){return l[41](l[49])}return{c(){e=V("button"),t.c(),i=M(),w&&w.c(),r=M(),E(e,"class","thumbnail-item thumbnail-lg svelte-14trwwd"),E(e,"aria-label",g="Thumbnail "+(l[49]+1)+" of "+l[15].length),U(e,"selected",l[1]===l[49])},m(d,u){F(d,e,u),v[n].m(e,null),I(e,i),w&&w.m(e,null),I(e,r),m=!0,f||(b=te(e,"click",a),f=!0)},p(d,u){l=d;let k=n;n=s(l),n===k?v[n].p(l,u):(S(),h(v[k],1,1,()=>{v[k]=null}),C(),t=v[n],t?t.p(l,u):(t=v[n]=p[n](l),t.c()),c(t,1),t.m(e,i)),l[47].caption?w?w.p(l,u):(w=Be(l),w.c(),w.m(e,r)):w&&(w.d(1),w=null),(!m||u[0]&32768&&g!==(g="Thumbnail "+(l[49]+1)+" of "+l[15].length))&&E(e,"aria-label",g),(!m||u[0]&2)&&U(e,"selected",l[1]===l[49])},i(d){m||(c(t),m=!0)},o(d){h(t),m=!1},d(d){d&&q(e),v[n].d(),w&&w.d(),f=!1,b()}}}function zt(l){let e,n;return e=new De({}),{c(){D(e.$$.fragment)},m(t,i){A(e,t,i),n=!0},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function It(l){let e,n,t,i,r,g,m;ft(l[31]);let f=l[2]&&pe(l);const b=[wt,bt],p=[];function v(s,w){return s[0]==null||s[15]==null||s[15].length===0?0:1}return n=v(l),t=p[n]=b[n](l),{c(){f&&f.c(),e=M(),t.c(),i=st()},m(s,w){f&&f.m(s,w),F(s,e,w),p[n].m(s,w),F(s,i,w),r=!0,g||(m=te(Se,"resize",l[31]),g=!0)},p(s,w){s[2]?f?(f.p(s,w),w[0]&4&&c(f,1)):(f=pe(s),f.c(),c(f,1),f.m(e.parentNode,e)):f&&(S(),h(f,1,1,()=>{f=null}),C());let a=n;n=v(s),n===a?p[n].p(s,w):(S(),h(p[a],1,1,()=>{p[a]=null}),C(),t=p[n],t?t.p(s,w):(t=p[n]=b[n](s),t.c()),c(t,1),t.m(i.parentNode,i))},i(s){r||(c(f),c(t),r=!0)},o(s){h(f),h(t),r=!1},d(s){s&&(q(e),q(i)),f&&f.d(s),p[n].d(s),g=!1,m()}}}function Et(l,e,n){let t,i,r,{show_label:g=!0}=e,{label:m}=e,{value:f=null}=e,{columns:b=[2]}=e,{rows:p=void 0}=e,{height:v="auto"}=e,{preview:s}=e,{allow_preview:w=!0}=e,{object_fit:a="cover"}=e,{show_share_button:d=!1}=e,{show_download_button:u=!1}=e,{i18n:k}=e,{selected_index:_=null}=e,{interactive:z}=e,{_fetch:K}=e,{mode:G="normal"}=e,{show_fullscreen_button:Z=!0}=e,L=!1,O;const $=ht();let J=!0,y=null,j=f;_==null&&s&&f?.length&&(_=0);let P=_;function B(o){const H=o.target,W=o.offsetX,Y=H.offsetWidth/2;W<Y?n(1,_=t):n(1,_=i)}function le(o){switch(o.code){case"Escape":o.preventDefault(),n(1,_=null);break;case"ArrowLeft":o.preventDefault(),n(1,_=t);break;case"ArrowRight":o.preventDefault(),n(1,_=i);break}}let Q=[],X;async function Ve(o){if(typeof o!="number"||(await dt(),Q[o]===void 0))return;Q[o]?.focus();const{left:H,width:W}=X.getBoundingClientRect(),{left:ne,width:Y}=Q[o].getBoundingClientRect(),x=ne-H+Y/2-W/2+X.scrollLeft;X&&typeof X.scrollTo=="function"&&X.scrollTo({left:x<0?0:x,behavior:"smooth"})}let ce=0;async function _e(o,H){let W;try{W=await K(o)}catch(x){if(x instanceof TypeError){window.open(o,"_blank","noreferrer");return}throw x}const ne=await W.blob(),Y=URL.createObjectURL(ne),ie=document.createElement("a");ie.href=Y,ie.download=H,ie.click(),URL.revokeObjectURL(Y)}gt(()=>{document.addEventListener("fullscreenchange",()=>{n(16,L=!!document.fullscreenElement)})});const Oe=async()=>{L?await document.exitFullscreen():await O.requestFullscreen()};function Pe(){n(20,ce=Se.innerHeight)}const qe=()=>{const o="image"in r?r?.image:r?.video;if(o==null)return;const{url:H,orig_name:W}=o;H&&_e(H,W??"image")},Fe=()=>n(1,_=null),Ge=o=>B(o);function He(o,H){fe[o?"unshift":"push"](()=>{Q[H]=o,n(18,Q)})}const Ne=o=>n(1,_=o);function Xe(o){fe[o?"unshift":"push"](()=>{X=o,n(19,X)})}const We=()=>n(0,f=[]);function Je(o){de.call(this,l,o)}function Ke(o){de.call(this,l,o)}const Qe=o=>n(1,_=o);function Ye(o){fe[o?"unshift":"push"](()=>{O=o,n(17,O)})}return l.$$set=o=>{"show_label"in o&&n(2,g=o.show_label),"label"in o&&n(3,m=o.label),"value"in o&&n(0,f=o.value),"columns"in o&&n(4,b=o.columns),"rows"in o&&n(5,p=o.rows),"height"in o&&n(6,v=o.height),"preview"in o&&n(26,s=o.preview),"allow_preview"in o&&n(7,w=o.allow_preview),"object_fit"in o&&n(8,a=o.object_fit),"show_share_button"in o&&n(9,d=o.show_share_button),"show_download_button"in o&&n(10,u=o.show_download_button),"i18n"in o&&n(11,k=o.i18n),"selected_index"in o&&n(1,_=o.selected_index),"interactive"in o&&n(12,z=o.interactive),"_fetch"in o&&n(27,K=o._fetch),"mode"in o&&n(13,G=o.mode),"show_fullscreen_button"in o&&n(14,Z=o.show_fullscreen_button)},l.$$.update=()=>{l.$$.dirty[0]&268435457&&n(28,J=f==null||f.length===0?!0:J),l.$$.dirty[0]&1&&n(15,y=f==null?null:f.map(o=>"video"in o?{video:o.video,caption:o.caption}:"image"in o?{image:o.image,caption:o.caption}:{})),l.$$.dirty[0]&872415235&&(ee(j,f)||(J?(n(1,_=s&&f?.length?0:null),n(28,J=!1)):n(1,_=_!=null&&f!=null&&_<f.length?_:null),$("change"),n(29,j=f))),l.$$.dirty[0]&32770&&(t=((_??0)+(y?.length??0)-1)%(y?.length??0)),l.$$.dirty[0]&32770&&(i=((_??0)+1)%(y?.length??0)),l.$$.dirty[0]&1073774594&&_!==P&&(n(30,P=_),_!==null&&$("select",{index:_,value:y?.[_]})),l.$$.dirty[0]&130&&w&&Ve(_),l.$$.dirty[0]&32770&&n(21,r=_!=null&&y!=null?y[_]:null)},[f,_,g,m,b,p,v,w,a,d,u,k,z,G,Z,y,L,O,Q,X,ce,r,B,le,_e,Oe,s,K,J,j,P,Pe,qe,Fe,Ge,He,Ne,Xe,We,Je,Ke,Qe,Ye]}class Qt extends ot{constructor(e){super(),at(this,e,Et,It,mt,{show_label:2,label:3,value:0,columns:4,rows:5,height:6,preview:26,allow_preview:7,object_fit:8,show_share_button:9,show_download_button:10,i18n:11,selected_index:1,interactive:12,_fetch:27,mode:13,show_fullscreen_button:14},null,[-1,-1])}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),T()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),T()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),T()}get columns(){return this.$$.ctx[4]}set columns(e){this.$$set({columns:e}),T()}get rows(){return this.$$.ctx[5]}set rows(e){this.$$set({rows:e}),T()}get height(){return this.$$.ctx[6]}set height(e){this.$$set({height:e}),T()}get preview(){return this.$$.ctx[26]}set preview(e){this.$$set({preview:e}),T()}get allow_preview(){return this.$$.ctx[7]}set allow_preview(e){this.$$set({allow_preview:e}),T()}get object_fit(){return this.$$.ctx[8]}set object_fit(e){this.$$set({object_fit:e}),T()}get show_share_button(){return this.$$.ctx[9]}set show_share_button(e){this.$$set({show_share_button:e}),T()}get show_download_button(){return this.$$.ctx[10]}set show_download_button(e){this.$$set({show_download_button:e}),T()}get i18n(){return this.$$.ctx[11]}set i18n(e){this.$$set({i18n:e}),T()}get selected_index(){return this.$$.ctx[1]}set selected_index(e){this.$$set({selected_index:e}),T()}get interactive(){return this.$$.ctx[12]}set interactive(e){this.$$set({interactive:e}),T()}get _fetch(){return this.$$.ctx[27]}set _fetch(e){this.$$set({_fetch:e}),T()}get mode(){return this.$$.ctx[13]}set mode(e){this.$$set({mode:e}),T()}get show_fullscreen_button(){return this.$$.ctx[14]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),T()}}export{Qt as default};
//# sourceMappingURL=Gallery-CoYvVF5b.js.map
