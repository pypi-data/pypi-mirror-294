"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[1886],{39020:(e,a,n)=>{n.r(a),n.d(a,{DocumentPublic:()=>f,default:()=>j});var s=n(91896),l=n(56769),t=n(59886),c=n(36705),r=n(64506),o=n(81457),i=n(31728),d=n(77402),u=n(13676),h=n(74151),m=n(43275),y=n(90673),x=n(45209);const f=()=>{const e=(0,x.qX)(),a=e.iam().user,n=e.layout().space,{documentId:f}=(0,t.UO)(),{refreshDocument:j,getDocument:p,cloneDocument:k}=(0,y.YT)(),g=(0,y.s0)(),Z=(0,c.N)(),{enqueueToast:b}=(0,y.pm)(),[v,w]=(0,l.useState)();(0,l.useEffect)((()=>(e.layout().showBackdrop(),j(f).then((a=>{if(e.layout().hideBackdrop(),a.success){const e=p(f);e||g("/"),w(e)}})).finally((()=>{e.layout().hideBackdrop()})),()=>{w(void 0),e.layout().setItem(void 0)})),[f]);const B=(0,l.useCallback)((async n=>{Z({title:"Are you sure?",content:"Please confirm you want to clone this document in your private library."}).then((n=>{n&&(e.layout().showBackdrop(),k(f).then((n=>{e.layout().hideBackdrop(),n.success&&(b(n.message,{variant:"success"}),e.layout().triggerItemsRefresh(),g(`/${a?.handle}/library/documents`))})).finally((()=>{e.layout().hideBackdrop()})))}))}),[Z,v]);return v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Z,{children:(0,s.jsxs)(o.Z,{display:"flex",children:[(0,s.jsx)(o.Z,{flex:1,children:(0,s.jsx)(i.Z,{sx:{fontSize:3},children:"Public document"})}),(0,s.jsx)(o.Z,{children:(0,s.jsxs)(d.Z,{children:[v&&a?.handle===v.owner.handle&&(0,s.jsx)(u.r,{variant:"default",size:"small",onClick:()=>g(`/${v.organization?.handle??v.owner?.handle}/${v.space?.handle}/document/${v.id}`),children:"Edit"}),a&&n&&(0,s.jsx)(u.r,{variant:"default",size:"small",leadingVisual:m.jcu,onClick:B,children:"Clone"})]})})]})}),(0,s.jsx)(o.Z,{children:(0,s.jsx)(h.Z,{children:v.description})}),(0,s.jsx)(o.Z,{children:v.model&&(0,s.jsx)(s.Fragment,{})})]}):(0,s.jsx)(s.Fragment,{})},j=f}}]);