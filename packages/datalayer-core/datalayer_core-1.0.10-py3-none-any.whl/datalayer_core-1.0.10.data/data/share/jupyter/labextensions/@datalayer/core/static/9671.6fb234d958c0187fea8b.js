"use strict";(self.webpackChunk_datalayer_core=self.webpackChunk_datalayer_core||[]).push([[9671],{19671:(e,n,a)=>{a.r(n),a.d(n,{DocumentPublic:()=>d,default:()=>u});var t=a(74512),s=a(66029),o=a(99608),l=a(40809),c=a(23189),r=a(43712),i=a(42799);const d=()=>{const e=(0,i.qX)(),n=e.iam().user,a=e.layout().space,{documentId:d}=(0,o.UO)(),{refreshDocument:u,getDocument:h,cloneDocument:x}=(0,r.YT)(),m=(0,r.s0)(),y=(0,l.useConfirm)(),{enqueueToast:f}=(0,r.pm)(),[p,j]=(0,s.useState)();(0,s.useEffect)((()=>(e.layout().showBackdrop(),u(d).then((n=>{if(e.layout().hideBackdrop(),n.success){const e=h(d);e||m("/"),j(e)}})).finally((()=>{e.layout().hideBackdrop()})),()=>{j(void 0),e.layout().setItem(void 0)})),[d]);const B=(0,s.useCallback)((async a=>{y({title:"Are you sure?",content:"Please confirm you want to clone this document in your private library."}).then((a=>{a&&(e.layout().showBackdrop(),x(d).then((a=>{e.layout().hideBackdrop(),a.success&&(f(a.message,{variant:"success"}),e.layout().triggerItemsRefresh(),m(`/${n?.handle}/library/documents`))})).finally((()=>{e.layout().hideBackdrop()})))}))}),[y,p]);return p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Pagehead,{children:(0,t.jsxs)(l.Box,{display:"flex",children:[(0,t.jsx)(l.Box,{flex:1,children:(0,t.jsx)(l.Heading,{sx:{fontSize:3},children:"Public document"})}),(0,t.jsx)(l.Box,{children:(0,t.jsxs)(l.ButtonGroup,{children:[p&&n?.handle===p.owner.handle&&(0,t.jsx)(l.Button,{variant:"default",size:"small",onClick:()=>m(`/${p.organization?.handle??p.owner?.handle}/${p.space?.handle}/document/${p.id}`),children:"Edit"}),n&&a&&(0,t.jsx)(l.Button,{variant:"default",size:"small",leadingVisual:c.jcu,onClick:B,children:"Clone"})]})})]})}),(0,t.jsx)(l.Box,{children:(0,t.jsx)(l.Text,{children:p.description})}),(0,t.jsx)(l.Box,{children:p.model&&(0,t.jsx)(t.Fragment,{})})]}):(0,t.jsx)(t.Fragment,{})},u=d}}]);